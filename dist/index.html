<!doctype html>
<html lang="fr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>INSAgenda Web</title>
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="theme-color" content="#121218">
	<link rel="manifest" href="manifest.webmanifest">
	<link rel="apple-touch-icon" href="logo192.png">
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<header class="topbar">
		<h1 id="dateHeader" role="button" title="Choisir une date">—</h1>
		<div class="actions">
			<button id="toggleDrawer" title="Filtres">☰</button>
			<button id="prevDay" title="Jour précédent">⟨</button>
			<button id="nextDay" title="Jour suivant">⟩</button>
			<button id="refresh" title="Rafraîchir">⟲</button>
			<button id="openSettings" title="Configurer l'URL ICS">⚙️</button>
			<input id="fileImport" type="file" accept=".ics,text/calendar" style="display:none" />
		</div>
	</header>
	<aside class="drawer" id="drawer">
		<h2>Filtres</h2>
		<div class="filter-tools">
			<button id="selectAll">Tout</button>
			<button id="selectNone">Aucun</button>
		</div>
		<div id="courseFilters"></div>
	</aside>
	<div id="overlay" class="hidden"></div>
	<main>
		<div id="loading" class="loading hidden">Chargement…</div>
		<div id="noEvents" class="no-events hidden">Aucun événement</div>
		<div id="missingUrl" class="no-events hidden">Configurez l’URL ICS via ⚙️ pour charger les événements.</div>
		<div id="errorBanner" class="no-events hidden" style="color:#ff8a8a"></div>
		<div id="lastUpdated" class="no-events hidden"></div>
		<ul id="events" class="events"></ul>
	</main>

	<div id="settingsModal" class="modal hidden">
		<div class="modal-content">
			<h3>Configurer l'URL ICS</h3>
			<input id="icsUrlInput" type="url" placeholder="https://…/calendar.ics" />
			<div class="modal-actions">
				<button id="saveUrl">Enregistrer</button>
				<button id="cancelSettings">Annuler</button>
			</div>
		</div>
	</div>

	<div id="eventModal" class="modal hidden">
		<div class="modal-content">
			<h3 id="eventModalTitle">—</h3>
			<pre id="eventModalBody" class="desc" style="white-space:pre-wrap;margin:0"></pre>
			<div class="modal-actions">
				<button id="closeEventModal">Fermer</button>
			</div>
		</div>
	</div>

	<div id="calendarModal" class="modal hidden">
		<div class="modal-content">
			<div class="calendar-header">
				<button id="prevMonth">⟨</button>
				<h3 id="calendarMonthYear">—</h3>
				<button id="nextMonth">⟩</button>
			</div>
			<div class="calendar-grid">
				<div class="calendar-weekdays">
					<div>Lun</div><div>Mar</div><div>Mer</div><div>Jeu</div><div>Ven</div><div>Sam</div><div>Dim</div>
				</div>
				<div id="calendarDays" class="calendar-days"></div>
			</div>
			<div class="modal-actions">
				<button id="closeCalendarModal">Fermer</button>
			</div>
		</div>
	</div>

	<script src="main.js" defer></script>
</body>
</html> 